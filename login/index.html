<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="../public/img/icon.ico">
		<title>-Nebula-</title>
		<link rel="stylesheet" href="../layui/css/layui.css">
		<script src="../layui/layui.js" type="text/javascript"></script>
		<script src="../public/js/jquery.js" type="text/javascript"></script>
		<script src="../public/js/vue.js" type="text/javascript"></script>
		<script src="../public/components/alert.js" type="text/javascript"></script>
		<script src="../public/components/background.js" type="text/javascript"></script>
		<script src="../public/components/zButton.js" type="text/javascript"></script>
		<script src="components/login.js" type="text/javascript"></script>
		<script src="components/regist.js" type="text/javascript"></script>
		<script src="components/forget.js" type="text/javascript"></script>
		<style type="text/css">
			.layui-icon-loading{
				font-size: 80px;
				color: deepskyblue;
			}
			#loading{
				position: fixed;
				top: 50%;
				left: 50%;
				margin-left: -40px;
				margin-top: -40px;
			}
		</style>
	</head>
	<body>
		<div id="loading"><i class="layui-icon layui-icon-loading layui-anim layui-anim-rotate layui-anim-loop"></i></div>
		<div id="Nebula" style="display: none;">
			<background display="none" src="./img/loginBG.jpg"></background>
			<alert v-if="alertshow">{{alertmsg}}</alert>
			<login display="none"></login>
			<regist display="none"></regist>
			<forget display="none"></forget>
		</div>
	</body>
	<script type="text/javascript">
		vue=new Vue({
			el:"#Nebula",
			data:{
				alertshow:false,
				alertmsg:''
			},
			methods:{
				alert:function(msg){
					this.alertmsg=msg;
					this.alertshow=true;
				}
			},
			mounted() {
				window.alert=this.alert;
				window.alert_ok=function(){};
			}
		})
	</script>
	<script type="text/javascript">
		var loadloop=setInterval(function(){
			var img=$('#background').css('background-image');
			if(typeof(img)!="undefined"&&img!='none')
			{
				clearInterval(loadloop);
				$('#loading').hide();
				$('#Nebula').show();
				$('#background').fadeIn(1500);
				setTimeout(function(){$('#login').fadeIn(1000);},1500);
			}
		},200);
	</script>
</html>